<h1 class="page-header">Additional Personnels</h1>
<div class="link-new-btn"><%= link_to("Add Personnel", new_client_additional_personnel_path(@client), {class: "btn btn-primary", role: "button"}) %></div>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>No</th>
        <th>Name</th>
        <th>Email</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% @additional_personnels.each_with_index do |personnel, i|  %>
      <tr>
        <td><%= i + 1 %></td>
        <td><%= personnel.name %></td>
        <td><%= personnel.account.email %></td>
        <td>
          <%= link_to "Show", "#", {data: {toggle: "modal", target: "#modalShowPersonnel#{personnel.id}"}} %> - 
          <%= link_to "Edit", edit_client_additional_personnel_path(@client, personnel) %> - 
          <%= link_to "Remove", client_additional_personnel_path(@client, personnel), {data: { confirm: "Are you sure?" }, :method => :delete} %>

          <div class="modal fade" id="modalShowPersonnel<%=personnel.id%>" tabindex="-1" role="dialog" aria-labelledby="modalShowPersonnelLabel">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  <h4 class="modal-title" id="myModalLabel">Show Personnel</h4>
                </div>
                <div class="modal-body">
                  <label>Company :</label>
                  <p><%= personnel.company %></p>                  

                  <label>Function :</label>
                  <p><%= personnel.function_text %></p>                  
                </div>
              </div>
            </div>
          </div>   

        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>