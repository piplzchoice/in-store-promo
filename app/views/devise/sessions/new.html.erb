<div class="container">
  <%= form_for(resource, as: resource_name, url: session_path(resource_name), html: {class: "form-signin", role: "form"}) do |f| %>
    <h2 class="form-signin-heading">Please sign in</h2>
    <%= f.email_field :email, {autofocus: true, class: "form-control", placeholder: "Email address", required: true} %>
    <%= f.password_field :password, {autocomplete: "off", class: "form-control", placeholder: "Password", required: true} %>

    <% if devise_mapping.rememberable? -%>
      <div class="checkbox">
        <label>
          <%= f.check_box :remember_me %> Remember me
        </label>
      </div>
    <% end -%>

    <%= f.button "Sign in", {class: "btn btn-lg btn-primary btn-block"} %>
    <div style="float:right;margin:10px; ">
      <%= link_to("Forgot Password?", "#", {
        data: {toggle: "modal", target: "#modalForgotPassword"}}) 
      %>
    </div>    
  <% end %>
</div>

<div class="modal fade" id="modalForgotPassword" tabindex="-1" role="dialog" aria-labelledby="modalForgotPasswordLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Forgot Password</h4>
      </div>
      <%= form_tag(forgot_password_path, method: :post, role: "form", remote: true) do %>
        <div class="modal-body">
          <div class="form-group">
            <label class="control-label">
              Enter your email address and we will send you a link to reset your password.
            </label>
            <%= email_field_tag("email_address", "", {
              class: "form-control", 
              required: "true", 
              placeholder: "Enter your email address"}) 
            %>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Reset</button>
        </div>
      <% end %>
    </div>
  </div>
</div>
